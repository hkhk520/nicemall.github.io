(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b04946aa"],{"1f33":function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"small-classify"},[i("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","left-arrow":""},on:{"click-left":t.goBack}}),i("van-tabs",{attrs:{"title-active-color":"#ee0a24","title-inactive-color":"#333"},on:{click:function(a){return t.getTypeData(t.vanTabDatas[t.active].type)}},model:{value:t.active,callback:function(a){t.active=a},expression:"active"}},t._l(t.vanTabDatas,(function(a,s){return i("van-tab",{key:s,attrs:{title:a.title}},[i("ListItem",{attrs:{showListDatas:t.showListDatas,isClassify:t.isClassify},on:{"concat-data":t.concatData}})],1)})),1)],1)},e=[],n=(i("99af"),i("fb6a"),i("5530")),o=i("af40"),l=i("2f62"),c={name:"SmallClassify",data:function(){return{title:null,vanTabDatas:[{title:"流行",type:"pop"},{title:"新款",type:"new"},{title:"热销",type:"sell"}],listDatas:null,showListDatas:null,page:1,active:0,isClassify:!0}},created:function(){var t=this.$route.query.miniWallkey;this.$store.commit("changeMiniWallkey",t),this.title=this.$route.query.title,this.getSmallClassifyDatas()},computed:Object(n["a"])({},Object(l["b"])(["miniWallkey","type"])),components:{ListItem:o["a"]},methods:{getSmallClassifyDatas:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({url:this.beauty+"/subcategory/detail",params:{miniWallkey:this.miniWallkey,type:this.type}}).then((function(a){t.listDatas=a.data,t.showListDatas=t.listDatas.slice(0,4),t.page++,t.$toast.clear()})).catch((function(a){console.log(a),t.$toast.clear()}))},getTypeData:function(t){this.type!=t&&(this.page=1,this.$store.commit("changeType",t),this.getSmallClassifyDatas())},concatData:function(t){this.listDatas=t,this.showListDatas&&(this.showListDatas=this.showListDatas.concat(this.listDatas.slice(4*this.page,4*(this.page+1))),this.page++)},goBack:function(){this.$router.go(-1),this.$store.commit("changeType","pop")}}},r=c,u=(i("295f"),i("2877")),h=Object(u["a"])(r,s,e,!1,null,"59084e22",null);a["default"]=h.exports},"295f":function(t,a,i){"use strict";i("7588")},"60ae":function(t,a,i){},7588:function(t,a,i){},"930e":function(t,a,i){"use strict";i("60ae")},"951a":function(t,a,i){t.exports=i.p+"img/default.f2b328f5.jpg"},af40:function(t,a,i){"use strict";var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"list-item"},[i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},[i("div",{staticClass:"list-big-box"},t._l(t.showListDatas,(function(a,s){return i("div",{key:s,staticClass:"list-box",on:{click:function(i){return t.goBeatyDetail(a.iid)}}},[i("img",{staticClass:"auto-img",attrs:{src:a.img||a.show.img||t.defaultImg}}),i("div",{staticClass:"list-desc-box"},[i("p",[t._v(t._s(a.title||"I Love U"))]),i("div",{staticClass:"price-box"},[i("div",{staticClass:"limit-price-box"},[i("span",{staticClass:"limit-price-icon"},[t._v("限时价")]),i("span",[t._v("￥"+t._s(a.price||"520"))])]),i("div",{staticClass:"origin-price"},[t._v(t._s(a.orgPrice||"999"))])]),i("van-button",{attrs:{block:"",color:"#ff5777",size:"mini"}},[t._v("立即购买")])],1)])})),0)])],1)},e=[],n=i("5530"),o=i("2f62"),l={name:"ListItem",props:["showListDatas","isClassify"],data:function(){return{finished:!1,loading:!1,defaultImg:i("951a")}},computed:Object(n["a"])({},Object(o["b"])(["currentRemm","isHome","clickListCount","miniWallkey","type"])),methods:{goBeatyDetail:function(t){this.$store.commit("changeClickListCount",!1),1==this.clickListCount&&this.$store.commit("toggleIsHome"),this.$router.push({name:"BeatyDetail",params:{iid:t}})},onLoad:function(){var t=this;this.isClassify?this.axios({url:this.beauty+"/subcategory/detail",params:{miniWallkey:this.miniWallkey,type:this.type}}).then((function(a){var i=a.data;t.$emit("concat-data",i),t.loading=!1,t.showListDatas&&t.showListDatas.length>=36&&(t.finished=!0)})).catch((function(t){console.log(t)})):this.axios({method:"get",url:this.beauty+"/home/data",params:{type:this.currentRemm.type,page:1}}).then((function(a){var i=a.data.data.list;t.$emit("concat-data",i),t.loading=!1,t.showListDatas&&t.showListDatas.length>=26&&(t.finished=!0)}))}}},c=l,r=(i("930e"),i("2877")),u=Object(r["a"])(c,s,e,!1,null,"4c816a1e",null);a["a"]=u.exports},fb6a:function(t,a,i){"use strict";var s=i("23e7"),e=i("861d"),n=i("e8b5"),o=i("23cb"),l=i("50c4"),c=i("fc6a"),r=i("8418"),u=i("b622"),h=i("1dde"),f=i("ae40"),d=h("slice"),m=f("slice",{ACCESSORS:!0,0:0,1:2}),p=u("species"),y=[].slice,g=Math.max;s({target:"Array",proto:!0,forced:!d||!m},{slice:function(t,a){var i,s,u,h=c(this),f=l(h.length),d=o(t,f),m=o(void 0===a?f:a,f);if(n(h)&&(i=h.constructor,"function"!=typeof i||i!==Array&&!n(i.prototype)?e(i)&&(i=i[p],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return y.call(h,d,m);for(s=new(void 0===i?Array:i)(g(m-d,0)),u=0;d<m;d++,u++)d in h&&r(s,u,h[d]);return s.length=u,s}})}}]);
//# sourceMappingURL=chunk-b04946aa.973844d6.js.map