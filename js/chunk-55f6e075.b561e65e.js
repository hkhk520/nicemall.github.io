(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55f6e075"],{"13bd":function(t,o,e){},"1dde":function(t,o,e){var r=e("d039"),n=e("b622"),s=e("2d00"),a=n("species");t.exports=function(t){return s>=51||!r((function(){var o=[],e=o.constructor={};return e[a]=function(){return{foo:1}},1!==o[t](Boolean).foo}))}},"305b":function(t,o,e){"use strict";e.r(o);var r=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"secure"},[e("van-nav-bar",{attrs:{title:"安全中心","left-text":"返回","left-arrow":""},on:{"click-left":function(o){return t.$router.go(-1)}}}),e("div",{staticClass:"bg"}),e("div",{staticClass:"fun-box"},[e("van-cell-group",[e("van-cell",{attrs:{title:"修改密码","is-link":""},on:{click:function(o){t.isShowChangePwd=!0}}}),e("van-cell",{attrs:{title:"切换账号","is-link":""},on:{click:t.toggleUserLogin}}),e("van-cell",{attrs:{title:"注销账号","is-link":""},on:{click:t.destroyAccount}})],1)],1),e("div",{staticClass:"ulogin-btn"},[e("van-button",{attrs:{color:"#fa3c5f",block:"",round:""},on:{click:t.logout}},[t._v("退出登录")])],1),e("van-popup",{attrs:{"is-link":"",position:"bottom",closeable:""},model:{value:t.isShowChangePwd,callback:function(o){t.isShowChangePwd=o},expression:"isShowChangePwd"}},[e("div",{staticClass:"form-box"},[e("div",{staticClass:"form-title"},[t._v("修改密码")]),e("van-form",[e("van-field",{attrs:{type:t.isPassword?"password":"text",name:"旧密码",label:"旧密码",placeholder:"旧密码(首字符必须为字母)","right-icon":t.isPassword?"closed-eye":"eye-o",autocomplete:"off"},on:{"click-right-icon":function(o){t.isPassword=!t.isPassword}},model:{value:t.password.oldPassword,callback:function(o){t.$set(t.password,"oldPassword",o)},expression:"password.oldPassword"}}),e("van-field",{attrs:{type:t.isPassword?"password":"text",name:"新密码",label:"新密码",placeholder:"新密码(首字符必须为字母)","right-icon":t.isPassword?"closed-eye":"eye-o",autocomplete:"off"},on:{"click-right-icon":function(o){t.isPassword=!t.isPassword}},model:{value:t.password.newPassword,callback:function(o){t.$set(t.password,"newPassword",o)},expression:"password.newPassword"}}),e("div",{staticClass:"commit-btn"},[e("van-button",{attrs:{round:"",block:"",color:"#fa3c5f"},on:{click:t.commit}},[t._v("提交")])],1)],1)],1)])],1)},n=[],s=(e("a434"),e("e3a8")),a={name:"Secure",data:function(){return{isShowChangePwd:!1,isPassword:!0,password:{oldPassword:"",newPassword:""},userPhone:null}},created:function(){this.userPhone=this.$route.query.userPhone},methods:{commit:function(){var t=this,o={oldPassword:{value:this.password.oldPassword,errorMsg:"旧密码由数字字母下划线组合(6-16字符)",reg:/^[A-Za-z]\w{5,15}$/},newPassword:{value:this.password.newPassword,errorMsg:"新密码由数字字母下划线组合(6-16字符)",reg:/^[A-Za-z]\w{5,15}$/}},e=s["a"].valid(o);if(e){if(this.password.newPassword==this.password.oldPassword)return void this.$toast("新密码和旧密码不能相同");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0});var r=JSON.parse(localStorage.getItem("userArr"));setTimeout((function(){for(var o=0;o<r.length;o++)if(r[o].phone==t.userPhone&&r[o].password==t.password.oldPassword)return r[o].password=t.password.newPassword,localStorage.setItem("userArr",JSON.stringify(r)),t.isShowChangePwd=!1,t.$toast("修改密码成功啦~~"),void t.$router.push({name:"Login"});t.$toast("旧密码不正确！！")}),800)}},toggleUserLogin:function(){var t=this;this.$dialog.confirm({title:"温馨提醒",message:"亲，您确定切换账号么~",confirmButtonColor:"#fa3c5f"}).then((function(){t.$router.push({name:"Login"})})).catch((function(){t.$toast("先去逛逛吧~~")}))},destroyAccount:function(){var t=this;this.$dialog.confirm({title:"注销账号",message:"是否确定注销账号，一旦注销无法恢复哦！",confirmButtonColor:"#fa3c5f"}).then((function(){t.$toast.loading({message:"注销中...",forbidClick:!0,duration:0});var o=JSON.parse(localStorage.getItem("userArr"));setTimeout((function(){for(var e=0;e<o.length;e++)if(o[e].phone==t.userPhone)return o.splice(e,1),localStorage.setItem("userArr",JSON.stringify(o)),t.$toast("注销成功啦~~"),void t.$router.push({name:"Login"});t.$toast("手机号不正确，请重新登录！！"),t.$router.push({name:"Login"})}),800)})).catch((function(){t.$toast("你购买商品吧，萌萌哒~~")}))},logout:function(){var t=this;this.$dialog.confirm({title:"退出登录",message:"是否确定退出登录！",confirmButtonColor:"#fa3c5f"}).then((function(){t.$toast.loading({message:"退出中...",forbidClick:!0,duration:0}),setTimeout((function(){localStorage.removeItem("_token"),t.$router.push({name:"Login"}),t.$toast("退出登录成功啦~~")}),800)})).catch((function(o){t.$toast("亲，先去逛逛呗~~")}))}}},i=a,c=(e("847a"),e("2877")),l=Object(c["a"])(i,r,n,!1,null,"149ec5f6",null);o["default"]=l.exports},"65f0":function(t,o,e){var r=e("861d"),n=e("e8b5"),s=e("b622"),a=s("species");t.exports=function(t,o){var e;return n(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!n(e.prototype)?r(e)&&(e=e[a],null===e&&(e=void 0)):e=void 0),new(void 0===e?Array:e)(0===o?0:o)}},8418:function(t,o,e){"use strict";var r=e("c04e"),n=e("9bf2"),s=e("5c6c");t.exports=function(t,o,e){var a=r(o);a in t?n.f(t,a,s(0,e)):t[a]=e}},"847a":function(t,o,e){"use strict";e("13bd")},a434:function(t,o,e){"use strict";var r=e("23e7"),n=e("23cb"),s=e("a691"),a=e("50c4"),i=e("7b0b"),c=e("65f0"),l=e("8418"),u=e("1dde"),d=e("ae40"),f=u("splice"),w=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,p=Math.min,v=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!w},{splice:function(t,o){var e,r,u,d,f,w,m=i(this),b=a(m.length),P=n(t,b),$=arguments.length;if(0===$?e=r=0:1===$?(e=0,r=b-P):(e=$-2,r=p(h(s(o),0),b-P)),b+e-r>v)throw TypeError(g);for(u=c(m,r),d=0;d<r;d++)f=P+d,f in m&&l(u,d,m[f]);if(u.length=r,e<r){for(d=P;d<b-r;d++)f=d+r,w=d+e,f in m?m[w]=m[f]:delete m[w];for(d=b;d>b-r+e;d--)delete m[d-1]}else if(e>r)for(d=b-r;d>P;d--)f=d+r-1,w=d+e-1,f in m?m[w]=m[f]:delete m[w];for(d=0;d<e;d++)m[d+P]=arguments[d+2];return m.length=b-r+e,u}})},ae40:function(t,o,e){var r=e("83ab"),n=e("d039"),s=e("5135"),a=Object.defineProperty,i={},c=function(t){throw t};t.exports=function(t,o){if(s(i,t))return i[t];o||(o={});var e=[][t],l=!!s(o,"ACCESSORS")&&o.ACCESSORS,u=s(o,0)?o[0]:c,d=s(o,1)?o[1]:void 0;return i[t]=!!e&&!n((function(){if(l&&!r)return!0;var t={length:-1};l?a(t,1,{enumerable:!0,get:c}):t[1]=1,e.call(t,u,d)}))}},e3a8:function(t,o,e){"use strict";function r(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function n(t,o){for(var e=0;e<o.length;e++){var r=o[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,o,e){return o&&n(t.prototype,o),e&&n(t,e),t}e.d(o,"a",(function(){return l}));e("e7e5");var a=e("d399"),i=e("2b0e");i["a"].use(a["a"]);var c=function(){function t(){r(this,t)}return s(t,[{key:"valid",value:function(t){for(var o in t)if(!t[o].reg.test(t[o].value))return Object(a["a"])(t[o].errorMsg),!1;return!0}}]),t}(),l=new c},e8b5:function(t,o,e){var r=e("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}}}]);
//# sourceMappingURL=chunk-55f6e075.b561e65e.js.map